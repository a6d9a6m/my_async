---
title: 四阶段总结报告
date: 2025-06-21 10:12:26
categories:
    - os
tags:
    - author:曹辰宇
---

**前言：**

这次训练营我收益匪浅，对于什么是开源项目，怎么做开源项目有了比以往深刻的多的理解。虽然去年已经在训练营并且到达四阶段，但是当时才大二
知识积累过于薄弱，进入四阶段后除了前三个阶段的对于arceos的理解，剩下的都是未知的领域，最后未能做出很有效的贡献。

这次虽然主要的贡献是编写文档，对已有库升级版本，算不上很开创性，很重大的贡献，但我在这个过程中查找资料，与其他同学交流，跟老师沟通，
理解已有的项目，领悟项目最开始编写模块的初衷，这都对我是很大的收获。

还有一个，就是我最开始是想在开源之夏内选取的，不过训练营的项目在描述上很难把握，我自己提出的设想没几天就可以找到已有的实现，申请书又需要
已有的成熟实现方案，所以只能说很遗憾。明年我还会再次尝试的。

[四阶段工作仓库](https://github.com/a6d9a6m/my_async)(存放了所有的个人编写的内容)

下面简单说一下我的工作：

**第一周**

翻阅axnet的源码，查看以往学长学姐的资料，同时在了解可能的对于开源之夏的选题。axnet对于arceos来说是底层的网络模块的依赖包，arceos的
网络功能定义了许许多多的宏，在api中通过调用axnet对这些宏进行了实现。对于axnet来说，它是沟通smoltcp和arceos的桥梁。smoltcp是已经
存在的，很成熟的网络协议栈，定义了网络协议的基本功能，结构，方法逻辑。smoltcp通过层次划分实现了复杂的功能。

最后，编写了[axnet文档](https://github.com/a6d9a6m/my_async/blob/main/blogs/axnet.md)，在周会上与老师和学长交流，
下会后把繁杂的代码块和注释移除，只留下链接。对于一些必要的，对于理解文档很重要的代码做保留

**第二周**

第二周工作进度十分迟缓，首先就是对于开源之夏快结束时自己内心的不舍，看了很多别的网络方向学长学姐的内容，最主要的就是lwip。
并且这个时候学校里也安排了任务。这导致axnet基本停止了，升级只可以说聊胜于无。我在这里疑惑了listen_table.rs的存在必要性，
官方的smoltcp并没有支持它，我想着是否可以优化掉。翻阅了smoltpc的源码，发现smoltcp里面是整合在一起的，preprocess的存在
没办法去除。不过除了这个，其他的像IPV6支持，地址转换优化都已经做了。

**第三周**

通过再次翻阅源码，我终于理解了listen_table是必要的，它是arceos的网络模块调用的需要，这也就是为什么我们要单独维护一个自己的smoltcp
(更新后我使用的也不是官方源仓库)，所以我升级了我们的smoltcp仓库，重新拉取了新的更新。[然后提交](https://github.com/rcore-os/smoltcp/pull/4)。

[最后，axnet升级顺利完成](https://github.com/arceos-org/arceos/pull/258)。我发现先前的开发git规范出现了一些问题，对分支进行了调整。我也在这时不再留恋开源之夏，尝试异步运行时，本仓库的runtime文件夹
就是它的[完整源码](https://github.com/a6d9a6m/my_async/tree/main/runtime)

(提交链接都是最后的链接，最开始的pr因为我进行分支调整已经关闭了)
**总结：**

本次训练营收获许多，也有一些遗憾，目标不唯一是核心，对于开源之夏的提议实话说希望老师在提议时备注时间的紧迫，当然，还是希望开源之夏那边能有详细的需求，这样
可能提前几个月就可以着手解决了。对于后面，我还会继续做贡献，对于smoltcp的异步实现，未来会进行不断实现的。

